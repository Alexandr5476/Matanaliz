%\subsection{Полнота пространства непрерывных функций на компакте}

\begin{teor}[https://www.youtube.com/live/Ebv-BznzM6k?si=gnLVjEHuJSf6Zyq_&t=8043]{о полноте пространства непрерывных функций на компакте}[Метрика в пространстве непрерывных функций на компакте, его полнота]\label{полн.пр.непр.функ.}
	Пусть $K$ --- компактное метрическое пространство, тогда $C(K) \uns{{} = \{\, f \colon K \to \rr \mid f  \text{ --- непрерывно\,\}}}$ есть полное метрическое пространство относительно метрики $\metr{f_1, f_2} = \sup_K|f_1(x) - f_2(x)|$\bigskip
	\palka{\small \begin{enumerate}[leftmargin=15pt] % Напоминание определений
	\item $\metr{f_1, f_2} = \sup_K|f_1(x) - f_2(x)|$ является метрикой по лемме \ref{метр.для отобр.}, т.к. непрерывные функции на компакте --- ограничены (теорема Вейерштрасса)
	
	\item Метрическое пространство называется компактным, если из любого покрытия пространства открытыми множествами можно выбрать конечное подпокрытие.
	
	\item Метрическое пространство называется полным, если в нём любая фундаментальная последовательность сходится.
	
	\item Последовательность $x_n$ называется фундаментальной, если \[\A \eps > 0 \E N: \A n, m > N \text{ выполнено } \metr{x_n, x_m} < \eps\]
	
	\item Если последовательность сходится, то она фундаментальная. 
	Доказательство: \rselection{$\A \eps > 0$} из определения сходимости $x_n$ к $a$ \uns{($\A \eps > 0 \E N : \A n > N$ выполнено $\metr{x_n, a} < \eps$)}
	возьмём \rselection{$n,m > N$}, тогда, используя неравенство треугольника, получаем
	$\rselection{\metr{x_n, x_m}} \< \metr{x_n, a} + \metr{a, x_m} \rselection{< 2\eps}$. 
	Получилось \rselection{определение фундаментальности}.
	\end{enumerate}} % Конец напоминания определений
\end{teor} % Конец теоремы о полноте пространства непрерывных функций на компакте

\begin{prf} % Доказательство теоремы о полноте пространства непрерывных функций на компакте
	Нужно доказать, что любая фундаментальная последовательность сходится. Возьмём фундаментальную последовательность $f_n$.
	Тогда $\A x_0 \in K$ последовательность $f_n(x_0)$ --- фундоментальная, и она вещественная $\Rightarrow$ она сходится. Обозначим её предел $f(x_0)$. Определение фундоментальности $f_n(x)$:
	\[\A \eps > 0 \E N: \A n, m > N\ \A x_0 \in K \text{ выполнено }|f_n(x_0) - f_m(x_0)| < \eps\]
	При каждом фиксированном $x_0$ делаем предельный переход при $m \to \infty$, получаем
	\[\A \eps > 0 \E N: \A n > N\ \A x_0 \in K \text{ выполнено }|f_n(x_0) - f(x_0)| \< \eps\]
	То есть $f_n$ сходится к $f$ равномерно. Тогда $f$ непрерывна на $K$ по теореме \ref{ст-зд}, то есть $f \in C(K)$,\linebreak
	а сходимость последовательности в $C(X)$ --- это равномерная сходимость функциональных последовательностей.
\end{prf} % Конец доказательства теоремы о полноте пространства непрерывных функций на компакте

\newsavebox{\rav}
\sbox{\rav}{\begin{tikzcd}[ampersand replacement=\&]
		f_n \ar[yshift=2pt]{r}{X}
		\ar[yshift=-2pt]{r}[swap]{n \to \infty} \& f	\end{tikzcd}}
	
\begin{zam}[https://www.youtube.com/live/Ebv-BznzM6k?si=Xw76hi6ZJCzOc25G&t=9033]\label{больц.-коши для посл.}\begin{enumerate}
	\item Пространство $\mathcal{F} = \{\,f \colon X \to Y \mid f\text{ --- ограничено},\}$, где $X$ --- множество, $Y$ --- полное метрическое пространство, тоже является полным.\bigskip
	\palka{\small
	Доказательство останется тем же, только в конце нельзя будет применить теорему \ref{ст-зд}. Но если $f_n \in \mathcal{F}$ и\usebox{\rav}\!, то $f \in \mathcal F$. Доказательство: определение ограниченности $f_n$: 
	\[\A n \E y_n \in Y, r_n \in \rr : \A x \in X \text{ выполнено } f_n(x) \in \B{y_n, r_n}\]
	Определение равномерной сходимости:
	\[\A \eps > 0 \E N : \A n > N\ \ \A x \in E \text{ выполнено } \bmetr{f_n(x), f(x)} < \eps\]
	Тогда возьмём $\eps_0 > 0$, найдём соответствующее $N$, возьмём $n = N + 1$ и для них при любом $x \in X$ будет выполнено $\bmetr{f(x), f_{N + 1}(x)} < \eps_0$ и $\bmetr{y_{N+1}, f_{N+1}(x)} < r_{N + 1}$ $\Rightarrow$ по неравенству треугольника $\bmetr{f(x), y_{N + 1}} < r_{N + 1} + \eps_0$, то есть $f$ --- ограничено.}
	
	\item Пространство $C_M(K) = \{\, f \colon K \to Y  \mid f \text{ --- непрерывно}\,\}$, где $K$ --- компактное метрическое пространство, $Y$ --- полное метрическое пространство, тоже является полным.
	
	\item\add*{Формулировка критерия Больцано-Коши для равномерной сходимости}\textbf{Критерий Больцано-Коши равномерной сходимости функциональной последовательности:}
	так как сходимость последовательности в $C(K)$ --- это равномерная сходимость функциональных последовательностей, и $C(K)$ --- полное пространство (по теореме \ref{полн.пр.непр.функ.}), то в $C(K)$ равномерная сходимость последовательности $f_n(x)$ \eq\ \[\A \eps > 0 \E N : \A n, m > N \text{ выполнено } \sup_{x \in K} |f_n(x) - f_m(x)| < \eps\] 
\end{enumerate}\end{zam} % Конец замечание про полноту других пространств

%\subsection{Предельный переход под знаком интеграла\slash производной для последовательностей, правило Лейбница}

\begin{teor}[https://www.youtube.com/live/Ebv-BznzM6k?si=RuXzZttXQEEHu5uP&t=9695]{о предельном переходе под знаком интеграла для последовательностей}\label{пер.под инт.}
	Пусть $f_n \in C[a, b]$ \uns{($f_n \colon [a, b] \to \rr$)} и\begin{tikzcd}
		f_n \ar[yshift=2pt]{r}{[a, b]}
		\ar[yshift=-2pt]{r}[swap]{n \to \infty} & f
	\end{tikzcd}\!, тогда $\int\limits_a^b f_n \xrightarrow[n \to \infty]{} \int\limits_a^b f$
\end{teor} % Конец теоремы о предельном переходе под знаком интеграла для последовательностей

\begin{prf} % Доказательство теоремы о предельном переходе под знаком интеграла для последовательностей
	Используя определение равномерной непрерывности, получаем
	\[\left| \int_a^b f_n - \int_a^b f \right| \< \int_a^b |f_n - f| \< \sup_{[a, b]} |f_n - f| \cdot (b - a) \xrightarrow[n \to \infty]{} 0\]
	\uns{\hypersetup{linkcolor=mygray}По теореме \ref{ст-зд} $f$ непрерывна, значит $\int\limits_a^b f$ имеет смысл}
\end{prf} % Конец доказательства теоремы о предельном переходе под знаком интеграла для последовательностей

\begin{teor}[https://www.youtube.com/live/Ebv-BznzM6k?si=iFyP1BR_34MXd5Q_&t=9897]{правило Лейбница дифференцирования интеграла по параметру}[Правило Лейбница дифференцирования интеграла по параметру]\label{пр.лейб.}
	Пусть $f \colon [a, b] \times [c, d] \to \rr$, $f$ и $f'_y$ --- непрерывны на $[a, b] \times [c, d]$, $\varPhi \colon [c, d] \to \rr$, $\varPhi(y) = \int\limits_a^bf(x, y) \, dx$, тогда $\varPhi$ --- дифференцируема на $[c, d]$ и $\varPhi '(y) = \int\limits_a^b f'_y(x, y)\,dx$ 
\end{teor} % Конец правила Лейбница

\begin{prf} % Доказательство правила лебница
	% По Гейне, возьмём последовательность $h_n \to 0$, тогда
	$\A y \in [c, d],\ \A h \in \rr : y + h \in [c, d]$ верно: 
	\small
	\[\frac{\varPhi(y + h) - \varPhi(y)}{h} = \frac{\int_a^b f(x, y + h)\, dx - \int_a^b f(x, y)\, dx}{h} \stackrel{\text{т. Лагранжа}}{=} \int_a^b f'_y(x, y + \theta_h h)\,dx, \quad \theta_h \in (0, 1)\]
	\normalsize
	По теореме Кантора \uns{(непрерывная функция на компакте равномерно непрерывна)} $f'_y$ равномерно непрерывнa на $[a, b] \times [c, d]$, то есть 
	\[\A \eps > 0 \E \delta > 0 : \A x_1, x_2 \in [a, b] \times [c, d] \text{, если } \|x_1 - x_2\| < \delta \text{, то } |f'_y(x_1) - f'_y(x_2)| < \eps\]
	Пользуясь этим определением, фиксируем $\eps > 0$, находим $\delta > 0$. 
	% и для этого $\delta \E N : \A n > N$ выполнено $|h_n| < \delta$ \uns{(из определения сходимости последовательности $h_n$ к 0)}.\linebreak
	\smallskip Тогда, при $|h| < \delta$, так как \linebreak $\|(x, y + \theta_h h) - (x, y) \| < \delta$, то
	$\left|f'_y(x, y + \theta_h h) - f'_y(x, y)\right| < \eps$ или \small
	\[\left|\int_a^b f'_y(x, y + \theta_h h)\,dx - \int_a^b f'_y(x, y)\,dx\right| \uns{{}\< \int_a^b  \left|f'_y(x, y + \theta_h h)\,dx - f'_y(x, y)\,dx\right|} \<\eps \cdot (b - a),\]
	\normalsize потому что подынтегральная функция не превосходит \eps. Значит
	\[\left|\frac{\varPhi(y + h) - \varPhi(y)}{h} - \int_a^b f'_y(x, y)\,dx \right| \<\eps \cdot (b - a)
	\text{,\quad то есть\quad} \lim_{h \to 0}\frac{\varPhi(y + h) - \varPhi(y)}{h} = \int_a^b f'_y(x, y)\,dx\]
	И по определению производной $\varPhi '(y) = \int\limits_a^b f'_y(x, y)\,dx$.
\end{prf} % Конец доказательства праила Лейбница

\begin{teor}[https://www.youtube.com/live/Ebv-BznzM6k?si=sIF3m4zsCUBLspCI&t=10900]{о предельном переходе под знаком производной}\label{пер.под призв.}
	$f_n \in C^1\scal{a, b}$, $f_n \xrightarrow[n \to \infty]{} f$ поточечно на \scal{a, b},\begin{tikzcd}
		f'_n \ar[yshift=2pt]{r}{\scal{a, b}}
		\ar[yshift=-2pt]{r}[swap]{n \to \infty} & \varphi
	\end{tikzcd}\!, тогда $f \in C^1\scal{a, b}$ и $f' = \varphi$ на \scal{a, b}
\end{teor} % Конец теоремы о предельном переходе под знаком производной

\begin{prf} % Доказательство теоремы о предельном переходе под знаком производной
		Пусть $x_0 \in \scal{a, b}$, тогда $\A x \in \scal{a, b}$ по теореме \ref{пер.под инт.} $\int_{x_0}^{x} f'_n \xrightarrow[n \to \infty]{} \int_{x_0}^{x} \varphi$, то есть $f_n(x) - f_n(x_0) \xrightarrow[n \to \infty]{} \int_{x_0}^{x} \varphi$, а по условию $f_n(x) - f_n(x_0) \xrightarrow[n \to \infty]{} f(x) - f(x_0)$, значит $f(x) - f(x_0) = \int_{x_0}^{x} \varphi$, \linebreak тогда \uns{(так как интеграл с переменным верхнем пределом дифференцируем)} $f$ --- \smallskip дифференцируема и $f'(x) = \varphi(x)$, то есть $f' \in C^1 \scal{a, b}$ (по теореме \ref{ст-зд} $\varphi$ непрерывна).
		% --- первообразная $\varphi$, и $f \in C^1 \scal{a, b}$, потому что при фиксированном $x_0$ и любом $x > x_0$ верно $\int_{x_0}^{x} \varphi = f(x)$
\end{prf} % Конец доказательства теоремы о предельном переходе под знаком производной
